<!DOCTYPE HTML>
<!--
	Slate by Pixelarity
	pixelarity.com | hello@pixelarity.com
	License: pixelarity.com/license
-->
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Untitled</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" th:href="@{/assets/css/index.css}" />
	<noscript><link rel="stylesheet" th:href="@{/assets/css/noscript.css}" /></noscript>
</head>
<style>
	#side-wrap {
    width: 300px; /* 원하는 가로 크기로 조절 */
    margin: 0 auto; /* 수평 가운데 정렬 */
    padding: 20px; /* 내용과 사이드바 사이의 간격 설정 */
    border: 1px solid #ccc; /* 사각형 테두리 스타일 */
    border-radius: 10px; /* 사각형의 둥글기 설정 */
    }

    .side_info {
    text-align: center; /* 수평 가운데 정렬을 위한 설정 */
    }

    .prof_img {
    display: inline-block; /* 인라인 블록 요소로 설정 */
    }

    .rating {
    font-size: 18px; /* 등급 텍스트 크기 설정 */
    color: #333;    /* 등급 텍스트 색상 설정 */
    margin-top: 10px; /* 등급과 프로필 사진 사이의 위쪽 여백 설정 */
    }

    .user-id {
    font-size: 18px; /* 아이디 텍스트 크기 설정 */
    color: #333;    /* 아이디 텍스트 색상 설정 */
    margin-top: 10px; /* 아이디와 프로필 사진 사이의 위쪽 여백 설정 */
    }
    .goal-graph {
    width: 250px; /* 그래프 바의 전체 너비 */
    height: 20px; /* 그래프 바의 높이 (여유 공간을 위해 조정) */
    background-color: #f0f0f0; /* 그래프 바의 배경색 */
    border: 1px solid #ccc; /* 그래프 바 테두리 스타일 */
    border-radius: 20px; /* 그래프 바 테두리 둥글기 */
    margin: 20px; /* 페이지에서 그래프 바와의 간격 */
    display: felx;
    }

    /* Progress Bar (Filled Portion) */
    .progress-bar {
    width: 100%; /* 목표 달성 정도 (예: 100%) */
    height: 100%; /* 그래프 바와 같은 높이 */
    background-color: #4caf50; /* 목표 달성 부분의 배경색 */
    border-radius: 5px; /* 목표 달성 부분의 둥글기 */
    position: relative; /* 포지션 설정 */
    display: flex;
    }

    /* Progress Segment (날짜별 영역) */
    .progress-segment {
    height: 100%; /* 그래프 바와 같은 높이 */
    background-color: #4caf50; /* 각 날짜별 영역의 배경색 */
    border-radius: 5px; /* 각 날짜별 영역의 둥글기 */
    position: relative; /* 포지션 설정 */
    }

    /* Progress Label (Number) */
    .progress-label {
    position: absolute; /* 포지션 설정 */
    top: -20px; /* 그래프 바 위에서 조절 */
    left: 50%;
    transform: translateX(-50%);
    color: #000; /* 숫자 색상 */
    font-weight: bold; /* 굵게 표시 */
    }

    .point-container {
    display: flex;
    justify-content: space-between;
    }

    #tab-menu {
    display: flex; /* flex 레이아웃 사용 */
    flex-direction: row; /* 가로로 나열 */
    /* 다른 스타일을 추가할 수 있음 */
    justify-content: space-between; /* 간격을 조절하기 위해 */
    width: 300px; /* 전체 탭 메뉴 컨테이너의 너비를 조절 */
    margin: 0 auto; /* 중앙 정렬을 위해 */
    }

    #tab-menu div {
    padding: 10px; /* 각 탭 메뉴 아이템의 패딩 */
    cursor: pointer; /* 커서 모양을 포인터로 변경하여 클릭 가능하게 함 */
    /* 다른 스타일을 추가할 수 있음 */
    }

    #meal-options {
    display: flex; /* 자식 요소를 수평으로 배열하기 위해 Flexbox 레이아웃 사용 */
    justify-content: center; /* 자식 요소를 수평으로 가운데 정렬 */
    align-items: center; /* 자식 요소를 수직으로 가운데 정렬 */
    }

    #meal-options > div {
    margin: 0 10px; /* 각 요소 사이의 간격 조절 (원하는 크기로 조정) */
    }

    #meal-options div {
    cursor: pointer;
    }

    #tab-menu-container {
    display: flex; /* Flexbox 사용 */
    text-align: left;
    }

    #tan-dan-ji-box {
    display: flex; /* 내부의 tan-dan-ji-box도 Flexbox 사용 */
    flex-direction: column; /* 세로로 정렬 */
    }

    .today-tab .chall-tab .sub-tab .shop-tab{
    width: 70px; /* 각 탭 메뉴의 너비 */
    height: 70px; /* 각 탭 메뉴의 높이 (너비와 같게 설정하여 정사각형 모양으로 만듦) */
    background-color: #4caf50; /* 배경색을 설정 */
    text-align: center;
    line-height: 70px; /* 텍스트 세로 중앙 정렬을 위해 */
    color: #fff; /* 텍스트 색상 설정 */
    cursor: pointer; /* 마우스 커서를 포인터로 변경 */
    }

    #tan-dan-ji-box {
    display: flex; /* Flexbox를 사용하여 자식 요소를 가로로 정렬 */
    flex-direction: column; /* 자식 요소를 세로로 정렬 */
    /* background-color: lightgray; 사각형의 배경색 */
    border: 2px solid gray; /* 사각형 테두리 스타일 */
    padding: 10px; /* 내부 여백 설정 */
    width: 300px; /* 원하는 사각형 너비 설정 */
    text-align: left;
    }

    #tan-dan-ji-box > div {
    margin-bottom: 10px; /* 각 항목 아래 여백 설정 */
    }

    #another-page {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100px;
    }

    #another-page a {
    text-decoration: none;
    margin: 0 10px;
    }

.title_box td:nth-child(1){
		text-align: left;
	}
	.title_box td:nth-child(2){
		text-align: right;
	}
	.title_box h2, .title_table{
		margin: 0;
	}

	.title_box h2:after {
	    content: "";
	    display: block;
	    width: 26px;
	    height: 4px;
	    margin: 10px 0 0;
	    background: #c40f39;
	}
	.search_area input[type="button"]{
		font-size: 9pt;
		padding: 0.15em 1.5em;
	}
	.button{
		font-size: 9pt;
		padding: 1em 1.5em;
	}
	.search_area input[type="search"] {
		width : 250px;
		height: 33px;
	}


    .galleryAll{
        float: left;
        width: 29.333%;
        margin: 0 3.3% 5% 0;
        border: 1px solid #dadada;
        box-shadow: 2px 2px 3px rgba(0,0,0,0.2);
        border-radius: 10px;
        position: relative;
        height: 310px;
    }
    .g_Imgbox{
        float: left;
        width: 100%;
        height: 205px;
        overflow: hidden;
        border: 1px solid #eee;
        display: flex;
        flex-wrap: wrap;
        align-content: center;
        justify-content: center;
    }
    .g_title_box{
    	text-align : center;
    }

    .g_title_box span{
    	font-size: 14px;
    }
    .g_title_box_sub{
    	font-size: 12px;
    	text-align: left;
   	    padding: 5px 0 0 20px;
  		height: 20px;

    }
    .table_contents{
 		margin-bottom: 0;
 		border-bottom: solid 1px #eee;;
    }
    .pagination td a, .pagination td span{
		padding : 6px;
	}
	.galleryAll a{
		color: black;
	}
	.login_none {
		display:none;
	}
	#content .button{
	    margin-right: 20px;
	}
	.title_box h2{
		font-size: 28px;
	}


</style>
<body class="is-preload">

<!-- Header -->
<th:block th:replace="~{layout/header::header(${session.loginUser},${session.user},${session.trainer},${session.admin})}"></th:block>

<!-- Main -->
<section id="main" class="wrapper sidebar left">
	<div class="inner">

		<header class="major">
			<h2>마이페이지</h2>
		</header>

		<!-- Content -->
		<!-- Content -->
		<div class="content">

			<!-- 게시글 리스트 띄우는 테이블 -->
			<table class="list">
				<tr align="right" valign="middle">
					<td>글 개수 :[[${pageMaker.total}]]</td>
				</tr>

				<tr >
					<td>
						<th:block th:if="${list != null and list.size()>0}" th:each="trainer : ${list}">

							<div class ="galleryAll">
								<!-- 갤러리뷰로 이동 -->
								<a href="#">
									<div class = "g_Imgbox">
										<img class="gal_Img thumbnail" style="width:100%;"
											 src="#" alt="썸네일 이미지">
									</div>
									<div class = "g_title_box">
										<span class="gal_title_name">[[${trainer.trainerId}]]([[${trainer.trainerNickname}]])</span>
									</div>
								</a>

								<div class="g_title_box_sub">
									<span class="gal_title_regdate l_after">구독일 : [[${trainer.subDate}]]</span>
								</div>
								<div class="g_title_box_sub">
									<span>프로필 자세히 보기</span>
								</div>
								<div class="g_title_box_sub">
									<span>쪽지 보내기</span>
								</div>
							</div>
						</th:block>

					</td>

				</tr>
				<th:block th:if="${list == null or list.size() == 0}">
					<tr>
						<td style="text-align: center; font-size: 20px;">등록된
							게시글이 없습니다.</td>
					</tr>
				</th:block>
			</table>
			<br>	<!-- 페이징 처리하는 테이블 -->
			<table class="pagination">
				<tr align="center" valign="middle">
					<td>
						<a class="changePage" th:if="${pageMaker.prev}" th:href="${pageMaker.startPage-1}">&lt;</a>
						<th:block th:each="i : ${#numbers.sequence(pageMaker.startPage,pageMaker.endPage)}">
							<span class="nowPage" th:text="${i}" th:if="${pageMaker.cri.pagenum == i}"></span>
							<a class="changePage" th:href="${i}" th:text="${i}" th:unless="${pageMaker.cri.pagenum == i}"></a>
						</th:block>
						<a class="changePage" th:if="${pageMaker.next}" th:href="${pageMaker.endPage+1}">&gt;</a>
					</td>
				</tr>
			</table>
			<!-- 글쓰기 버튼 배치하는 테이블 -->
			<table>
				<tr align="right" valign="middle">
					<td>
						<a class="write" th:href="${'/board/write'+pageMaker.cri.listLink}">글쓰기</a>
					</td>
				</tr>
			</table>
			<form id="searchForm" th:action="@{/usermypage/user_subtrainer}">
				<div class="search_area">
					<label>
						<select name="type">
							<option value="" th:selected="${pageMaker.cri.type == null}">검색</option>
							<option value="T" th:selected="${pageMaker.cri.type == 'T'}">제목</option>
							<option value="C" th:selected="${pageMaker.cri.type == 'C'}">내용</option>
							<option value="W" th:selected="${pageMaker.cri.type == 'W'}">작성자</option>
							<option value="TC" th:selected="${pageMaker.cri.type == 'TC'}">제목 또는 내용</option>
							<option value="TW" th:selected="${pageMaker.cri.type == 'TW'}">제목 또는 작성자</option>
							<option value="TCW" th:selected="${pageMaker.cri.type == 'TCW'}">제목 또는 내용 또는 작성자</option>
						</select>
					</label>
					<label for="keyword"></label><input type="text" name="keyword" id="keyword" th:value="${pageMaker.cri.keyword}">
					<a href="#" class="button primary">검색</a>
				</div>
				<input type="hidden" value="1" name="pagenum">
				<input type="hidden" value="10" name="amount">
			</form>
		</div>

		<form name="pageForm" id="pageForm" th:action="@{/usermypage/user_subtrainer}">
			<input type="hidden" name="pagenum" th:value="${pageMaker.cri.pagenum}">
			<input type="hidden" name="amount" th:value="${pageMaker.cri.amount}">
			<input type="hidden" name="type" th:value="${pageMaker.cri.type}">
			<input type="hidden" name="keyword" th:value="${pageMaker.cri.keyword}">
		</form>


		<!-- Sidebar -->
		<th:block th:replace="~{layout/usermypage_sidebar::sidebar}"></th:block>

	</div>
</section>

<!-- Footer -->
<th:block th:replace="~{layout/footer::footer}"></th:block>

<!-- Scripts -->
<script th:src="@{/assets/js/jquery.min.js}"></script>
<script th:src="@{/assets/js/jquery.dropotron.min.js}"></script>
<script th:src="@{/assets/js/jquery.scrollex.min.js}"></script>
<script th:src="@{/assets/js/browser.min.js}"></script>
<script th:src="@{/assets/js/breakpoints.min.js}"></script>
<script th:src="@{/assets/js/util_sub.js}"></script>
<script th:src="@{/assets/js/main_sub.js}"></script>

<script th:src="@{/assets/js/sidebar.js}"></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:inline="javascript">
	const searchForm = $("#searchForm");
	const pageForm = $("#pageForm");

	$(".changePage").on("click",function(e){
		//e(이벤트)의 기본 작동 막기
		e.preventDefault();
		let pagenum = $(this).attr("href");
		pageForm.find("input[name='pagenum']").val(pagenum);
		pageForm.submit();
	});
	$(".get").on("click",function(e){
		e.preventDefault();
		let boardnum = $(this).attr("href");
		let url=/*[[@{/board/get}]]*/'';
		pageForm.append("<input type='hidden' name='boardnum' value='"+boardnum+"'>")
		pageForm.attr("action",url);
		pageForm.attr("method","get");
		pageForm.submit();
	})

	$("#searchForm a").on("click",sendit);
	function sendit(){
		if(!searchForm.find("option:selected").val()){
			alert("검색 기준을 선택하세요!");
			return false;
		}
		if(!$("input[name='keyword']").val()){
			alert("키워드를 입력하세요!");
			return false;
		}
		searchForm.submit();
	}
</script>

</body>
</html>