<link xmlns:th="http://www.thymeleaf.org">
<th:block th:fragment="header(loginUser,user,trainer,admin)">
    <style>
        .submenu {
   width: 150px;
   position: absolute;
   font-size: 14px;
   background: #ebede1;
   z-index: 5555;
   border-radius: 15px;
   padding:0;

 }

 .submenu li {
   list-style-type: none;
    color: black !important;
 }

 .submenu li:hover {
   background: rgb(203,211,177);
   transition: ease 1s;
   border-radius: 15px;
   padding:0;
 }

    </style>

    <!--<style>
        #header {
      background-color: #5a8100 !important;
    }

    #header nav > ul > li a {
      color: white !important;
    }

    #header h1 a {
      color: white !important;
    }

    #header .main ul li > a {
      color: white !important;

    }

    #footer {
      background-color: #304400;
    }-->
    <!--</style>-->

    <!--<th:block th:if="${session.loginUser == null}">
        <script>
            alert("로그인 후 이용 가능합니다!!!");
            location.replace("/user/login");
        </script>
    </th:block>-->

    <header id="header" class="alt">
        <h1 style="color: #fff;">
            <a href="/">
                Fit
                <span>Hub</span>
            </a>
        </h1>
        <nav class="links">
            <ul>
                <li class="menu-item"><a href="/info/info_list" style="color: white;">정보</a>
                    <ul class="submenu">
                        <li><a href="/info/info_list">전체</a></li>
                        <li><a href="/info/info_news">뉴스</a></li>
                        <li><a href="/info/info_food">식단</a></li>
                        <li><a href="/info/info_exercise">운동</a></li>
                        <li><a href="/info/info_tip">꿀팁</a></li>

                    </ul>
                </li>
                <li class="menu-item"><a href="/calorie/food_calorie_list" style="color: white;">칼로리</a>
                    <ul class="submenu">
                        <li><a href="/calorie/food_calorie_list">음식칼로리</a></li>
                        <li><a href="/calorie/exercise_calorie_list">운동칼로리</a></li>
                    </ul>
                </li>
                <li class="menu-item"><a href="/community/commu_list" style="color: white;">커뮤니티</a>
                    <ul class="submenu">
                        <li><a href="/community/commu_free">자유게시판</a></li>
                        <li><a href="/community/commu_food">식단</a></li>
                        <li><a href="/community/commu_exercise">운동</a></li>
                        <li><a href="/community/commu_gallery">갤러리</a></li>
                        <li><a href="/community/commu_qna">고민 Q&A</a></li>

                    </ul>
                </li>
                <li class="menu-item"><a href="/matching/matching_list" style="color: white;">트레이너 매칭</a>
                    <ul class="submenu">
                        <li><a href="/matching/matching_list">트레이너매칭</a></li>
                    </ul>
                </li>
                <li class="menu-item"><a href="/challenge/list" style="color: white;">챌린지</a>
                    <ul class="submenu">
                        <li><a href="/info/submenu1">챌린지</a></li>
                    </ul>
                </li>
                <li class="menu-item"><a href="/product/product_list" style="color: white;">제품</a>
                    <ul class="submenu">
                        <li><a href="/info/submenu1">식품</a></li>
                        <li><a href="/info/submenu1">운동 도구</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
        <script>
            const menuItems = document.querySelectorAll('.menu-item');

            menuItems.forEach(item => {
            const submenu = item.querySelector('.submenu');
            item.addEventListener('mouseenter', () => {
            submenu.style.display = 'block';
            });
            item.addEventListener('mouseleave', () => {
            submenu.style.display = 'none';
            });
            });
        </script>
        <nav class="main">
            <ul>
                <li id="login">
                    <th:block th:if="${session.loginUser == null}">
                        <a class="login" th:href="@{/user/login}" style="color: #fff;">Login</a>
                    </th:block>
                    <th:block th:if="${session.loginUser != null}">
                        <a class="login" th:href="@{/user/logout}" style="color: #fff;">logout</a>
                    </th:block>

                    <a class="login" href="/usermypage/user_myinfo" style="color: #fff;">유저</a>
                    <a class="login" href="/trainermypage/trainer_modify" style="color: #fff;">트레</a>
                    <a class="login" href="/adminmypage/adminmypage_list" style="color: #fff;">관리</a>
                </li>
                <li class="search">
                    <a class="fa-search" href="#search" style="color: #fff;">Search</a>
                    <form id="search" method="get" action="/searchpage/totalSearch">
                        <input type="text" name="keyword" placeholder="Search" />
<!--                        <input type="hidden" value="1" name="pagenum">-->
<!--                        <input type="hidden" value="12" name="amount">-->
                    </form>
                </li>
                <li class="menu">
                    <a class="fa-bars" href="#menu" style="color: #fff;">Menu</a>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Menu -->
    <section id="menu">
        <th:block th:if="${session.loginUser == null}">
            <div class="side-not-login">
                <p>로그인하세요</p>
                <a th:href="@{/user/login}">로그인</a>
            </div>
        </th:block>
        <th:block th:if="${session.loginUser != null}">
            <div class="side_info">
                <a href="/usermypage/user_myinfo">
                    <img src="images/profile_img.png" class="prof_img" width="102px" height="102px">
                </a>
                <div id="my_info">
                    <div>
                        <a href="/usermypage/user_myinfo">내 정보</a>
                        <th:block th:if="${session.loginUser != null}">
                            <a class="login" th:href="@{/user/logout}">로그아웃</a>
                        </th:block>
                    </div>
                    <a href="/usermypage/user_myinfo">
                        <!--<span>등급 / 닉네임(ID)</span>-->
                        <th:block th:if="${user !=null && loginUser != null}">
                            <span>등급</span>/<span th:text="${user.userNickname}"></span>(<span th:text="${user.userId}"></span>)
                        </th:block>
                    </a>
                </div>
                <div class="bar-container">
                    <progress class="progress-bar" value="0" max="7"></progress>
                    <input type="button" value="출석" class="att-btn">
                </div>
                <div class="point-container">
                    <div>나의 포인트</div>
                    <th:block th:if="${user != null && loginUser != null}">
                        <span id="pointDisplay" th:text="${user.userPoint != null ? user.userPoint : 0} + 'p'"></span>
                    </th:block>
                </div>
                <hr>
                <div id="tab-menu">
                    <div class="tab today-tab">오늘</div>
                    <div class="tab chall-tab">도전</div>
                    <div class="tab sub-tab">구독</div>
                    <div class="page-tab diary-tab">
                        <a href="/usermypage/user_diary">일기</a>
                    </div>
                    <div class="page-tab shop-tab">
                        <a href="/product/product_list">쇼핑</a>
                    </div>
                </div>
                <div id="tab-menu-container">
                    <div class="tab-view today-view">
                        <strong>나의 목표</strong>
                        <th:block th:if="${user !=null && loginUser != null}">
                            <p>목표체중 : <span th:text="${user.weightGoal}"></span></p>
                            <p>목표칼로리 : <span th:text="${user.caloriesGoal}"></span></p>
                            <strong>잔여칼로리: 현재칼로리/<span th:text="${user.caloriesGoal}"></span></strong>
                            <hr>
                        </th:block>
                        <p>섭취량</p>
                        <p>소비량</p>
                        <div id="meal-options">
                            <div class="brack-fst">아침</div>
                            <div class="lunch">점심</div>
                            <div class="dinner">저녁</div>
                            <div class="snack">간식</div>
                        </div>
                        <div id="tan-dan-ji-box">
                            <div class="today-breakfast">
                                <p>아침</p>
                                <p></p>
                                <p></p>
                                <p></p>
                            </div>
                            <div class="today-lunch">
                                <p>점심</p>
                                <p></p>
                                <p></p>
                                <p></p>
                            </div>
                            <div class="today-dinner">
                                <p>저녁</p>
                                <p></p>
                                <p></p>
                                <p></p>
                            </div>
                            <div class="today-snack">
                                <p>간식</p>
                                <p></p>
                                <p></p>
                                <p></p>
                            </div>
                        </div>
                    </div>
                    <div class="tab-view chall-view">
                        <div class="my-chall">
                            <strong>나의 챌린지</strong><br>
                            <span class="active-tab">진행중</span>
                            <span class="finish-tab">종료</span>
                            <div id="chall-list">
                                <div class="active-chall-listView">
                                    <p>진행중인 챌린지 list</p>
                                </div>
                                <div class="finish-chall-listView">
                                    <p>종료된 챌린지 list</p>
                                </div>
                            </div>
                        </div>


                    </div>
                    <div class="tab-view sub-view">
                        <div class="sub-view-container">
                            <strong>나의 트레이너</strong>
                            <div class="my-sub">
                                <p>구독한 트레이너 list</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </th:block>
        <div id="another-page">
            <div class="bmi">
                <a href="/sidebar/bmi">BMI</a>
            </div>
            <div class="health-center">
                <a href="/sidebar/healthCenter">보건소</a>
            </div>
            <th:block  th:if="${session.user != null}">
                <div class="trainer-apply">
                    <a href="/usermypage/user_applytrainer">트레이너 신청</a>
                </div>
            </th:block>
        </div>
    </section>
</th:block>

