<!DOCTYPE HTML>
<!--
	Slate by Pixelarity
	pixelarity.com | hello@pixelarity.com
	License: pixelarity.com/license
-->
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Fit Hub</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" th:href="@{/assets/css/index.css}" />
	<noscript><link rel="stylesheet" th:href="@{/assets/css/noscript.css}" /></noscript>
	<link rel="stylesheet" th:href="@{/assets/css/sidebar.css}" />
</head>
<style>
	.top_img_box{
		width: 100%;
		height: 310px;
		margin-bottom: 50px;
		background-color: red;
	}

	.top_img_box > img {
		width: 100%;
		height: 100%;
	}

	#main {
		padding: 0;
	}

	.wrapper {
		padding: 0;
		margin-bottom: 100px;
	}

	#header {
		background-color: #5a8100;
	}

	#header nav > ul > li a {
		color: white;
	}

	#header h1 a {
		color: white;
	}

	#header .main ul li > a {
		color: white;

	}

	#footer {
		background-color: #304400;
	}

	a {
		border-bottom: none;
	}

	.search{
		display: flex;
	}

	.search-border{
		border: 1px solid rgb(200, 200, 200);
		border-radius: 15px;
		margin-bottom: 50px;
	}

	#search_input{
		height: 60px;
		border-radius: 10px 0 0 10px;
		border : 1px solid rgb(200, 200, 200);
	}

	#search-button{
		width: 100px;
		height: 60px;
		border-radius: 0 10px 10px 0;
		background-color: gainsboro;
	}

	.search_content{
		padding: 40px;
		margin: 0px;
		background-color: gainsboro;
	}
	.search_content p{
		font-size: 18px;
		font-weight: bold;
		height: 20px;
	}

	#search_result {
		display: none;
	}

	#no_result {
		display: none;
	}

	#no_keyword {
		display: none;
	}

	.long_text{
		width: 180px;
		max-width: 180px;
  		white-space: nowrap;
  		overflow: hidden;
		text-overflow: ellipsis;
	}
</style>
<body class="is-preload">
	<!-- Header -->
	<th:block th:replace="~{layout/header::header(${session.loginUser})}"></th:block>

	<!-- Main -->
	<section id="main" class="wrapper sidebar left">
		<div class="top_img_box">
			<img src="/images/pic01.jpg" alt="">
		</div>

		<div class="inner">

			<header class="major">
				<h2>유저 검색</h2>
				<p>관리자 마이페이지</p>
			</header>



			<!-- Content -->
			<div class="content">
				<div class="search-container">
					<div class="search">
						<input type="text" id="search_input" placeholder="유저 아이디를 입력하세요">
						<input type="button" id="search-button" value="검색" onclick="search()">
					</div>
					<div style="margin-top: 30px;" class="button primary fit" id="no_keyword">유저 아이디를 입력해주세요!!</div>
					<table style="text-align: center; margin-top: 50px;" id="search_result">
						<thead>
							<tr style="font-weight: bold; font-size: 14px;">
								<td>아이디</td>
								<td>게시물 수</td>
								<td>댓글 수</td>
								<td>신고 횟수</td>
								<td>신고 당한 횟수</td>
								<td>정지 상태</td>
							</tr>
						</thead>
						<tbody id="data-table">
							<tr th:if="${reportList != null and reportList.size() > 0}" th:each="reportBoard : ${reportList}">
								<td class="long_text">
									<a href="#">
										[[${reportBoard.reportNum}]]
									</a>
								</td>
								<td class="long_text">
									<a href="#">
										[[${reportBoard.userId}]]
									</a>
								</td>
								<td class="long_text">
									<a href="#">
										[[${reportBoard.reportBoardnum}]]
									</a>
								</td>
								<td class="long_text">
									<a href="#">
										[[${reportBoard.boardCategory}]]
									</a>
								</td>
								<td class="long_text">
									<a href="#">
										[[${reportBoard.reportDate}]]
									</a>
								</td>
								<td class="long_text">
									<a href="#">
										[[${reportBoard.reportDate}]]
									</a>
								</td>
							</tr>
							<tr th:if="${reportList == null or reportList.size() == 0}">
								<td colspan="6">
									접수된 신고가 없습니다!
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<!-- Sidebar -->
			<div class="sidebar">

				<section>
					<h3><a href="/adminmypage/adminmypage_list">전체</a></h3>
					<h3><a href="/adminmypage/adminmypage_report">신고 접수</a></h3>
					<h3><a href="/adminmypage/adminmypage_trainer">트레이너 신청 내역</a></h3>
					<h3><a href="/adminmypage/adminmypage_board">관리자 게시물</a></h3>
					<h3><a href="/adminmypage/adminmypage_usersearch" style="color: #5a8100;">유저 검색</a></h3>
					<h3><a href="/adminmypage/adminmypage_message">문의함</a></h3>
				</section>

			</div>
		</div>
	</section>

	<!-- Footer -->
	<th:block th:replace="~{layout/footer::footer}"></th:block>

<!-- Scripts -->
<script th:src="@{/assets/js/jquery.min.js}"></script>
<script th:src="@{/assets/js/jquery.dropotron.min.js}"></script>
<script th:src="@{/assets/js/jquery.scrollex.min.js}"></script>
<script th:src="@{/assets/js/browser.min.js}"></script>
<script th:src="@{/assets/js/breakpoints.min.js}"></script>
<script th:src="@{/assets/js/util.js}"></script>
<script th:src="@{/assets/js/main.js}"></script>

<script th:src="@{/assets/js/util_sub.js}"></script>
<script th:src="@{/assets/js/main_sub.js}"></script>

<script th:src="@{/assets/js/sidebar.js}"></script>
<script>
	function search(){
		const search_input = document.getElementById("search_input");
		const search_result = document.getElementById("search_result");
		const no_keyword = document.getElementById("no_keyword");

		const search_keyword = search_input.value;

		if(search_keyword == ''){
			no_keyword.style.display = "block";
			search_result.style.display = "none";
		}
		else {
			search_result.style.display = "block";
			no_keyword.style.display = "none";
		}
	}

    function search() {
        const search_input = document.getElementById("search_input");
        const search_keyword = search_input.value;

        if (search_keyword) {
            $.ajax({
                url: '/adminmypage/adminmypage_usersearch',
                method: 'POST',
                data: { keyword: search_keyword }, // 서버로 전송할 데이터
                success: function(data) {
					displayData(data);
                },
                error: function(error) {
                	console.error('데이터를 가져오는 중 오류 발생: ' + error);
                }
            });
        }
    }
</script>
</body>
</html>